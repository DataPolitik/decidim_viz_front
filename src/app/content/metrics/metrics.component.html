<div id="history">
  <h2>
    {{"metrics.metrics" | translate }}
  </h2>
  <section id="filters">
    <span>{{"metrics.showing_from" | translate }} </span>
    <p-calendar [(ngModel)]="dateFrom"
      dateFormat="dd/mm/yy"
      [readonlyInput]="true"
      [showIcon]="true"
      (ngModelChange)="this.dateChanged()"></p-calendar>
    <span>{{"metrics.showing_to" | translate }}</span>
    <p-calendar [(ngModel)]="dateTo"
      dateFormat="dd/mm/yy"
      [readonlyInput]="true"
      [showIcon]="true"
      (ngModelChange)="this.dateChanged()"></p-calendar>
  </section>
  <div>
    <p-tabView>
      <p-tabPanel header="{{'metrics.menu.proposals' | translate }}">
        <app-metrics-proposals *ngIf="this.dateFrom && this.dateTo"
          [dateFrom]="this.dateFrom"
          [dateTo]="this.dateTo">
        </app-metrics-proposals>
      </p-tabPanel>
      <p-tabPanel header="{{'metrics.menu.participative_proccesses' | translate }}">
        <app-metrics-participative-processes *ngIf="this.dateFrom && this.dateTo"
          [dateFrom]="this.dateFrom"
          [dateTo]="this.dateTo">
        >
        </app-metrics-participative-processes>
      </p-tabPanel>
      <p-tabPanel header="{{'metrics.menu.comments' | translate }}">
        <app-metrics-comments *ngIf="this.dateFrom && this.dateTo"
          [dateFrom]="this.dateFrom"
          [dateTo]="this.dateTo">
        </app-metrics-comments>
      </p-tabPanel>
    </p-tabView>
  </div>
</div>

<ng-template #still_loading>
  <app-still-loading></app-still-loading>
</ng-template>
